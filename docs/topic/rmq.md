## 简介

RMQ 是英文 Range Maximum/Minimum Query 的缩写，表示区间最大（最小）值。

在笔者接下来的描述中，默认初始数组大小为 $n$ .

在笔者接下来的描述中，默认时间复杂度标记方式为 $O($ 数据预处理 $)-O($ 单次询问 $)$ 

## ST 表

由于 Oi wiki 中已有此部分的描述，本文仅给出 [链接](ds/sparse-table/index.md) 。这部分不再展开。

时间复杂度 $O(n\log n)-O(1)$ 

空间复杂度 $O(n\log n)$ 

## 线段树

由于 Oi wiki 中已有此部分的描述，本文仅给出 [链接](<>) 。这部分不再展开。

时间复杂度 $O(n)-O(\log n)$ 

空间复杂度 $O(n\log n)$ 

## Four Russian

Four russian 是一个由四个毛子提出来的基于 ST 表的算法。

在 ST 表的基础上 Four russian 对其做出的改进是序列分块。

具体来说，我们将原数组——我们将其称之为数组 A——每 $S$ 个分成一块，总共 $n/S$ 块。

对于每一块我们预处理出来块内元素的最小值，建立一个长度为 $n/S$ 的数组 B，并对数组 B 采用 ST 表的方式预处理。

同时，我们对于数组 A 的每一个零散块也建立一个 ST 表。

询问的时候，我们可以将询问区间划分为不超过 1 个数组 B 上的连续块区间和不超过 2 个数组 A 上的整块内的连续区间。显然这些问题我们通过 ST 表上的区间查询解决。

在 $S=\log n$ 时候，预处理复杂度达到最优。为 $O((n/\log n)\log n+n/\log n*\log n*\log \log n)=O(n\log \log n)$ 

时间复杂度 $O(n\log log n)-O(1)$ 

空间复杂度 $O(n\log log n)$ 

当然询问由于要跑三个 ST 表~~常数比较大~~
